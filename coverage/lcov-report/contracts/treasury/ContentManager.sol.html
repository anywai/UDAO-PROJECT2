<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/treasury/ContentManager.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">contracts/treasury/</a> ContentManager.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">76.4% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>123/161</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">58.11% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>86/148</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">83.33% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>10/12</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">71.79% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>168/234</span>
      </div>
    </div>
  </div>
  <div class='status-line medium'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">13×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">20×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">19×</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">16×</span>
<span class="cline-any cline-yes">37×</span>
<span class="cline-any cline-yes">36×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">36×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-yes">17×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">18×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-yes">22×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">24×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// SPDX-License-Identifier: MIT
/// @title Content Manager of PlatformTreasury
/// @author anywaiTR: Bugrahan Duran, Batuhan Darcin
/// @notice Adds content and coaching sale functionality to the platform treasury, This is an abstract contract and serves as the content manager for the UDAO Platform treasury.
/// @dev Contains buy and refund funcions for content and coaching sales, also shares the revenue of sales with platform roles.
pragma solidity ^0.8.4;
import "./BasePlatform.sol";
&nbsp;
abstract contract ContentManager is BasePlatform {
    /// @notice Emitted when a content is bought
    /// @param cartSaleID The ID of the cart sale
    /// @param contentSaleID The ID of the content sale
    event ContentBought(
        uint256 indexed cartSaleID,
        uint256 indexed contentSaleID
    );
    /// @notice Emitted when a coaching is bought
    /// @param coachingSaleID The ID of the coaching sale
    event CoachingBought(uint256 indexed coachingSaleID);
    /// @notice Emitted when refund is requested. saleType: 0=coaching, 1=content
    /// @param saleID The ID of the coaching or content sale to be refunded
    /// @param saleType The type of the sale 0=coaching, 1=content
    event SaleRefunded(uint256 indexed saleID, uint8 indexed saleType);
&nbsp;
    /// @notice Emitted when the "ContentCutPool revenue balance" is updated,
    /// @dev after the refund window is over, the revenue collected from content sales for platform roles is transferred to the "ContentCutPool"
    /// @param _contentCutPool The new value of the content cut pool
    event ContentCutPoolUpdated(uint256 _contentCutPool);
    /// @notice Emitted when the "ContentCutLockedPool: locked revenue balances" are updated,
    /// @dev This revenue collected from content sales for platform roles, and these are locked revenue balances which doesn't completes refund window yet
    event ContentCutLockedPoolUpdated();
&nbsp;
    /// @notice Emitted when the "CoachingCutPool revenue balance" is updated,
    /// @dev after the refund window is over, the revenue collected from coaching sales for platform roles is transferred to the "CoachingCutPool"
    /// @param _coachingCutPool The new value of the cut pool
    event CoachingCutPoolUpdated(uint256 _coachingCutPool);
    /// @notice Emitted when the "CoachingCutLockedPool: locked revenue balances" are updated,
    /// @dev This revenue collected from coaching sales for platform roles, and these are locked revenue balances which doesn't completes refund window yet
    event CoachingCutLockedPoolUpdated();
&nbsp;
    /// @notice Emitted when platform role revenues are distributed to roles or role revenues are directed to governance treasury
    /// @dev the platform role revenues are content and coaching cut pools, and roles are foundation, juror, validator and governance
    /// @param foundationBalance The new value of the foundation balance
    /// @param jurorBalance The new value of the juror balance
    /// @param validatorsBalance The new value of the validators balance
    /// @param governanceBalance The new value of the governance balance
    event RoleBalancesUpdated(
        uint256 foundationBalance,
        uint256 jurorBalance,
        uint256 validatorsBalance,
        uint256 governanceBalance
    );
&nbsp;
    /// @notice Emitted when the instructor balance is updated
    /// @param _instructor The address of the instructor
    /// @param _instBalance The new value of the instructor balance
    event InstructorBalanceUpdated(
        address indexed _instructor,
        uint256 _instBalance
    );
    /// @notice Emitted when the instructor locked balances is updated
    event InstructorLockedBalanceUpdated(address indexed _instructor);
&nbsp;
    using Counters for Counters.Counter;
    /// @notice Used to generate unique ids for content sales
    Counters.Counter private contentSaleID;
    /// @notice Used to generate unique ids for coaching sales
    Counters.Counter private coachingSaleID;
    /// @notice Used to generate unique ids for cart sales
    Counters.Counter private cartSaleID;
&nbsp;
    /// @notice Used to store the content sales
    /// @param payee The address of the payment maker
    /// @param contentReceiver The address of the content receiver
    /// @param instructor The address of the instructor
    /// @param instrShare The cut of the instructor from the content sale
    /// @param totalCut The total platform cut applied to the content sale
    /// @param tokenId The token ID of the content
    /// @param purchasedParts An array representing the parts of the content purchased
    /// @param isRefunded A boolean indicating whether the content sale is refunded
    /// @param refundablePeriod The period during which the content sale can be refunded
    /// @param fullPurchase A boolean indicating whether it's a full content purchase
    struct ContentSale {
        address payee;
        address contentReceiver;
        address instructor;
        uint256 instrShare;
        uint256 totalCut;
        uint256 tokenId;
        uint256[] purchasedParts;
        bool isRefunded;
        uint256 refundablePeriod;
        bool fullPurchase;
    }
&nbsp;
    /// @notice Used to store the coaching sales
    /// @param payee The address of the payment maker
    /// @param contentReceiver The address of the content receiver
    /// @param coach The address of the coach/instructor
    /// @param instrShare The cut of the instructor from the coaching sale
    /// @param totalCut The total platform cut applied to the coaching sale
    /// @param isRefunded A boolean indicating whether the coaching sale is refunded
    /// @param coachingDate The date of the coaching
    /// @param refundablePeriod The period during which the coaching sale can be refunded
    struct CoachingSale {
        address payee;
        address contentReceiver;
        address coach;
        uint256 instrShare;
        uint256 totalCut;
        bool isRefunded;
        uint256 coachingDate;
        uint256 refundablePeriod;
    }
&nbsp;
    /// @notice content sale id =&gt; the content sale
    mapping(uint256 =&gt; ContentSale) public contentSales;
    /// @notice coaching sale id =&gt; the coaching sale
    mapping(uint256 =&gt; CoachingSale) public coachSales;
    /// @notice user address =&gt; (content id =&gt; (content part id =&gt; part owned/not owned by the user))
    mapping(address =&gt; mapping(uint =&gt; mapping(uint =&gt; bool))) isPartBought;
    /// @notice user address =&gt; content token Id =&gt; content part Id
    mapping(address =&gt; mapping(uint256 =&gt; uint256[])) public ownedParts;
    /// @notice user address =&gt; content token Id =&gt; is full content purchase
    mapping(address =&gt; mapping(uint256 =&gt; bool)) public isFullyPurchased;
&nbsp;
    /// @notice user address =&gt; (content id =&gt; content owned/not owned by the user)
    mapping(address =&gt; mapping(uint =&gt; bool)) public isContentBought;
    /// @notice user address =&gt; content token Ids
    mapping(address =&gt; uint256[]) public ownedContents;
&nbsp;
    /// @notice Allows users to buy coaching with a voucher created by instructor
    /// @param voucher buy coaching voucher
    function buyCoaching(
        IVoucherVerifier.CoachingVoucher calldata voucher
    ) external <span class="missing-if-branch" title="else path not taken" >E</span>whenNotPaused {
        uint256 totalCut;
        uint256 instrShare;
        address learner;
        bool isFiatPurchase;
        /// @dev check and verify the voucher is created by platform
        voucherVerifier.verifyCoachingVoucher(voucher);
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            voucher.coachingDate &gt;= block.timestamp + 86400 * 1,
            "Coaching date must be at least 1 day before."
        );
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            voucher.coachingDate &lt;= block.timestamp + 86400 * 7,
            "Coaching date must be at most 7 days before."
        );
        <span class="missing-if-branch" title="if path not taken" >I</span>if (hasRole(BACKEND_ROLE, msg.sender)) {
            learner = voucher.learner;
            isFiatPurchase = true;
<span class="cstat-no" title="statement not covered" >            require(isNotBanned(msg.sender, 32), "Caller is banned")</span>;
<span class="cstat-no" title="statement not covered" >            require(isKYCed(msg.sender, 25), "Caller is not KYCed")</span>;
        } else {
            <span class="missing-if-branch" title="else path not taken" >E</span>require(msg.sender == voucher.learner, "You are not the learner.");
            learner = msg.sender;
        }
&nbsp;
        <span class="missing-if-branch" title="else path not taken" >E</span>require(isKYCed(learner, 26), "Learner is not KYCed");
        require(isNotBanned(learner, 33), "Learner is banned");
        <span class="missing-if-branch" title="else path not taken" >E</span>require(isKYCed(voucher.coach, 27), "Coach is not KYCed");
        require(isNotBanned(voucher.coach, 35), "Coach is banned");
&nbsp;
        totalCut = calculateCoachingSaleTotalCut(voucher.priceToPay);
&nbsp;
        /// @dev in a fiat purchase, instructor share payed with FIAT money by platform in a seperate transaction. So that instrShare=0
        <span class="missing-if-branch" title="if path not taken" >I</span>if (isFiatPurchase) {
            instrShare = 0;
        } else {
            instrShare = voucher.priceToPay - totalCut;
        }
&nbsp;
        /// @dev The BUYER should have enough UDAO to pay for the cart
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            udao.balanceOf(msg.sender) &gt;= totalCut + instrShare,
            "Not enough UDAO sent!"
        );
&nbsp;
        /// @dev The BUYER should approve the contract for the amount they will pay
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            udao.allowance(msg.sender, address(this)) &gt;= totalCut + instrShare,
            "Not enough allowance!"
        );
&nbsp;
        /// @dev Transfer UDAO payment from buyer to contract
        udao.transferFrom(msg.sender, address(this), totalCut + instrShare);
&nbsp;
        /// @dev this is the timestamp of the transaction in days
        uint256 transactionTime = (block.timestamp / 86400);
&nbsp;
        /// @dev transactionLBIndex determines a "transaction time dependent position" in the Locked balanaces array.
        uint256 transactionLBIndex = transactionTime % refundWindow;
&nbsp;
        /// @dev update platform cut (coaching&amp;content) pools and platform locked pools
        _updatePlatformCutBalances(
            0, //contentCut=0 due to there is no content revenue on this sale
            totalCut, //totalCut is a new coaching sale revenue from this sale
            transactionTime,
            transactionLBIndex
        );
        /// @dev update instructor balance and instructor locked balances,
        _updateInstructorBalances(
            instrShare,
            voucher.coach,
            transactionTime,
            transactionLBIndex
        );
&nbsp;
        /// @dev Save the sale on a list for future use (e.g refund)
        coachingSaleID.increment();
        coachSales[coachingSaleID.current() - 1] = CoachingSale({
            payee: msg.sender,
            contentReceiver: learner,
            coach: voucher.coach,
            instrShare: instrShare,
            totalCut: totalCut,
            isRefunded: false,
            coachingDate: voucher.coachingDate,
            refundablePeriod: transactionTime + refundWindow
        });
&nbsp;
        /// @dev if there is any revenue in platform cut pools, distribute role shares to roles and transfer governance role shares to governance treasury
        _transferPlatformCutstoGovernance();
&nbsp;
        emit CoachingBought(coachingSaleID.current() - 1);
    }
&nbsp;
    /// @notice Allows users to purchase multiple contents for the caller or gift receiver with discount vouchers
    /// @param vouchers buy discount content voucher array
    function buyContentWithDiscount(
        IVoucherVerifier.ContentDiscountVoucher[] calldata vouchers
    ) external <span class="missing-if-branch" title="else path not taken" >E</span>whenNotPaused {
        /// @dev Determine the number of items in the cart
        uint256 voucherIdsLength = vouchers.length;
        /// @dev Determine the RECEIVER of each item in the cart
        address[] memory contentReceiver = new address[](voucherIdsLength);
        /// @dev Used for recording the price to pay for each item in the cart
        uint256[] memory priceToPay = new uint[](voucherIdsLength);
        /// @dev Used for recording the all roles cut for each item in the cart
        uint256[] memory totalCut = new uint[](voucherIdsLength);
        /// @dev Used for recording the instructor share for each item in the cart
        uint256[] memory instrShare = new uint[](voucherIdsLength);
        /// @dev Used for recording the total roles cut for all items in the cart
        uint256 totalRequiredUdao;
        /// @dev Boolean flag to determine if the purchase is made by a backend role
        /// if so then this purchase is a fiat purchase
        bool isFiatPurchase;
&nbsp;
        <span class="missing-if-branch" title="if path not taken" >I</span>if (hasRole(BACKEND_ROLE, msg.sender)) {
            isFiatPurchase = true;
        } else {
            <span class="missing-if-branch" title="else path not taken" >E</span>require(isKYCed(msg.sender, 20), "You are not KYCed");
            require(isNotBanned(msg.sender, 20), "You are banned");
        }
&nbsp;
        /// @dev Loop through the cart
        for (uint256 i; i &lt; voucherIdsLength; i++) {
            /// @dev check and verify the voucher is created by platform
            voucherVerifier.verifyDiscountVoucher(vouchers[i]);
            <span class="missing-if-branch" title="else path not taken" >E</span>require(
                msg.sender == vouchers[i].redeemer,
                "You are not redeemer."
            );
&nbsp;
            contentReceiver[i] = _checkPartReceiver(
                vouchers[i].tokenId,
                vouchers[i].purchasedParts,
                vouchers[i].giftReceiver
            );
            priceToPay[i] = vouchers[i].priceToPay;
&nbsp;
            totalCut[i] = calculateContentSaleTotalCut(priceToPay[i]);
&nbsp;
            /// @dev in a fiat purchase, instructor share payed with FIAT money by platform in a seperate transaction. So that instrShare=0
            <span class="missing-if-branch" title="if path not taken" >I</span>if (isFiatPurchase) {
<span class="cstat-no" title="statement not covered" >                require(</span>
                    contentReceiver[i] != msg.sender,
                    "Fiat purchase requires a gift receiver!"
                );
                instrShare[i] = 0;
            } else {
                instrShare[i] = priceToPay[i] - totalCut[i];
            }
&nbsp;
            totalRequiredUdao += (totalCut[i] + instrShare[i]);
        }
&nbsp;
        /// @dev The BUYER should have enough UDAO to pay for the cart
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            udao.balanceOf(msg.sender) &gt;= totalRequiredUdao,
            "Not enough UDAO sent!"
        );
&nbsp;
        /// @dev The BUYER should approve the contract for the amount they will pay
        <span class="missing-if-branch" title="else path not taken" >E</span>require(
            udao.allowance(msg.sender, address(this)) &gt;= totalRequiredUdao,
            "Not enough allowance!"
        );
&nbsp;
        /// @dev Save the sale on a list for future use (e.g refund)
        cartSaleID.increment();
        for (uint256 i; i &lt; voucherIdsLength; i++) {
            _buyContentwithUDAO(
                vouchers[i].tokenId,
                vouchers[i].fullContentPurchase,
                vouchers[i].purchasedParts,
                contentReceiver[i],
                totalCut[i],
                instrShare[i],
                cartSaleID.current() - 1
            );
        }
&nbsp;
        /// @dev if there is any revenue in platform cut pools, distribute role shares to roles and transfer governance role shares to governance treasury
        _transferPlatformCutstoGovernance();
    }
&nbsp;
    /// @notice Used by buy content functions to receive payment from user and deliver the content to user
    /// @param tokenId The token ID of the content.
    /// @param fullContentPurchase A boolean indicating whether it's a full content purchase.
    /// @param purchasedParts An array representing the parts of the content purchased.
    /// @param contentReceiver The address of the content receiver.
    /// @param totalCut The total platform cut applied to the content sale.
    /// @param instrShare The instructor's share from the the content sale.
    /// @param _cartSaleID The ID of the cart sale.
    function _buyContentwithUDAO(
        uint256 tokenId,
        bool fullContentPurchase,
        uint256[] calldata purchasedParts,
        address contentReceiver,
        uint256 totalCut,
        uint256 instrShare,
        uint256 _cartSaleID
    ) internal {
        address instructor = udaoc.ownerOf(tokenId);
&nbsp;
        /// @dev Transfer UDAO payment from buyer to contract
        udao.transferFrom(msg.sender, address(this), instrShare + totalCut);
&nbsp;
        /// @dev this is the timestamp of the transaction in days
        uint256 transactionTime = (block.timestamp / 86400);
        /// @dev transactionLBIndex determines a "transaction time dependent position" in the Locked balanaces array.
        uint256 transactionLBIndex = transactionTime % refundWindow;
&nbsp;
        /// @dev update platform cut (coaching&amp;content) pools and platform locked pools
        _updatePlatformCutBalances(
            totalCut, //totalCut is a new content sale revenue from this sale
            0, //coachingCut=0 due to there is no coaching revenue on this sale
            transactionTime,
            transactionLBIndex
        );
        /// @dev update instructor balance and instructor locked balances,
        _updateInstructorBalances(
            instrShare,
            instructor,
            transactionTime,
            transactionLBIndex
        );
&nbsp;
        /// @dev update owned content
        <span class="missing-if-branch" title="else path not taken" >E</span>if (isContentBought[contentReceiver][tokenId] == false) {
            isContentBought[contentReceiver][tokenId] = true;
            if (ownedContents[contentReceiver].length == 0) {
                ownedContents[contentReceiver] = new uint[](0);
            }
            ownedContents[contentReceiver].push(tokenId);
        }
&nbsp;
        /// @dev update owned content part
        if (fullContentPurchase) {
            isPartBought[contentReceiver][tokenId][0] = true;
            ownedParts[contentReceiver][tokenId] = udaoc.getContentParts(
                tokenId
            );
            isFullyPurchased[contentReceiver][tokenId] = true;
        } else {
            for (uint256 j; j &lt; purchasedParts.length; j++) {
                uint part = purchasedParts[j];
                isPartBought[contentReceiver][tokenId][part] = true;
                /// @dev If the user has not bought any part of the content before, initialize the array
                if (ownedParts[contentReceiver][tokenId].length == 0) {
                    ownedParts[contentReceiver][tokenId] = new uint[](0);
                }
                ownedParts[contentReceiver][tokenId].push(part);
            }
            isFullyPurchased[contentReceiver][tokenId] = false;
        }
&nbsp;
        /// @dev Save the sale on a list for future use (e.g refund)
        contentSaleID.increment();
        contentSales[contentSaleID.current() - 1] = ContentSale({
            payee: msg.sender,
            contentReceiver: contentReceiver,
            instructor: instructor,
            instrShare: instrShare,
            totalCut: totalCut,
            tokenId: tokenId,
            purchasedParts: purchasedParts,
            isRefunded: false,
            refundablePeriod: transactionTime + refundWindow,
            fullPurchase: fullContentPurchase
        });
&nbsp;
        emit ContentBought(_cartSaleID, contentSaleID.current() - 1);
    }
&nbsp;
    /// @notice Checks if there is nothing wrong with the content purchase related to content receiver
    /// @param _tokenId The token ID of the content.
    /// @param _purchasedParts An array representing the parts of the content purchased.
    /// @param _contentReceiver The address of the content receiver.
    /// @dev This function checks if the content receiver is banned, not KYCed, or already owns the content or content part.
    /// @dev It can be used also by backend to check a purchase request is acceptable or not before a bulk fiat purchase.(So that it a public view function)
    function _checkPartReceiver(
        uint256 _tokenId,
        uint256[] calldata _purchasedParts,
        address _contentReceiver
    ) public view returns (address) {
        /// @dev Determine the RECEIVER of each item in cart, address(0) means RECEIVER is BUYER
        if (_contentReceiver == address(0)) {
            _contentReceiver = msg.sender;
        } else {
            require(
                isNotBanned(_contentReceiver, 29),
                "Gift receiver is banned"
            );
            <span class="missing-if-branch" title="else path not taken" >E</span>require(
                isKYCed(_contentReceiver, 22),
                "Gift receiver is not KYCed"
            );
        }
&nbsp;
        require(udaoc.exists(_tokenId) == true, "Content not exist!");
        require(udaoc.isSellable(_tokenId) == true, "Not sellable");
        require(
            isFullyPurchased[_contentReceiver][_tokenId] == false,
            "Content is already fully purchased!"
        );
        uint maxPart = udaoc.getPartNumberOfContent(_tokenId);
&nbsp;
        for (uint256 j; j &lt; _purchasedParts.length; j++) {
            require(_purchasedParts[j] &lt; maxPart, "Part does not exist!");
            if (j &lt; _purchasedParts.length - 1) {
                <span class="missing-if-branch" title="else path not taken" >E</span>require(
                    (_purchasedParts[j] &lt; _purchasedParts[j + 1]),
                    "Parts are not in order or duplicated!"
                );
            }
            require(
                isPartBought[_contentReceiver][_tokenId][_purchasedParts[j]] ==
                    false,
                "Part is already owned!"
            );
        }
        return _contentReceiver;
    }
&nbsp;
    /// @notice Returns the parts owned by buyer if buyer has bought any parts in the past
    /// @param _buyer The address of the buyer.
    /// @param _tokenId The token ID of the content.
    function getOwnedParts(
        address _buyer,
        uint256 _tokenId
    ) external view returns (uint256[] memory) {
        return ownedParts[_buyer][_tokenId];
    }
&nbsp;
    /// @notice Update content and coaching CutPools and handle locked payments during the refund window.
    /// @param totalCutContentShare amount of UDAO to be paid to the platform, it is revenue of platform from content sales.
    /// @param totalCutCoachingShare amount of UDAO to be paid to the platform, it is revenue of platform from coaching sales.
    /// @param _transactionTime indicates the day of the transaction (number of days passed since 1Jan1970-0:0:0)
    /// @param _transactionLBIndex determines the payment will be added to which position in the CutLockedPool arrays.
    function _updatePlatformCutBalances(
        uint256 totalCutContentShare,
        uint256 totalCutCoachingShare,
        uint256 _transactionTime,
        uint256 _transactionLBIndex
    ) internal {
        /// @dev Safety variables to prevent reentrancy attacks.
        uint256 tempSafetyContent;
        uint256 tempSafetyCoaching;
        /// @dev Calculate the number of days that have passed since the last update of CutPools.
        uint256 dayPassedPlatform = _transactionTime - platformLockTime;
        /// @dev Check if there are any payments in the CutLockedPool arrays that need to be transferred to CutPools.
        if (dayPassedPlatform &gt;= refundWindow) {
            /// @dev CutLockedPool arrays contain payments that need be transferred to CutPools.
            /// @dev Defines how many elements of CutLockedPool arrays have completed the refund window period.
            uint256 dayPassedPlatformMod;
            /// @dev Check if all elements in the CutLockedPool arrays have completed the refund window period.
            <span class="missing-if-branch" title="if path not taken" >I</span>if (dayPassedPlatform &gt;= (refundWindow * 2)) {
                /// @dev All elements, CutLockedPool arrays holds payments within the range [0, refundWindow-1].
                dayPassedPlatformMod = refundWindow - 1;
            } else {
                /// @dev Not all, but some, elements of the CutLockedPool arrays have completed the refund window period.
                dayPassedPlatformMod = dayPassedPlatform % refundWindow;
            }
            /// @dev Iterate the loop through elements that completed the refund window period.
            /// @dev Adding completed payments to tempSafetyContent/Coaching, and remove them from the CutLockedPool arrays.
            for (uint256 i = 0; i &lt;= dayPassedPlatformMod; i++) {
                /// @dev The indexOfPayout determines which element of the CutLockedPool arrays will be transferred to the CutPools.
                /// @dev It start from today(i=0) and goes to past during the loop iterations.
                /// @dev Circular array indexing prevents negative indexes using addition and modulo operations with refundWindow.
                uint256 indexOfPayout = ((_transactionLBIndex + refundWindow) -
                    i) % refundWindow;
                tempSafetyContent += contentCutLockedPool[indexOfPayout];
                contentCutLockedPool[indexOfPayout] = 0;
                tempSafetyCoaching += coachingCutLockedPool[indexOfPayout];
                coachingCutLockedPool[indexOfPayout] = 0;
            }
            /// @dev Add the sum of refund window's completed payments to CutPools.
            contentCutPool += tempSafetyContent;
            coachingCutPool += tempSafetyCoaching;
            /// @dev Update platformLockTime to the oldest day where payments have not been transferred to CutPools yet.
            /// @dev It is "(today-refundWindow)+1" so as of today, all refund window completed payments have been transfered.
            platformLockTime = (_transactionTime - refundWindow) + 1;
&nbsp;
            <span class="missing-if-branch" title="else path not taken" >E</span>if (tempSafetyContent != 0) {
                emit ContentCutPoolUpdated(contentCutPool);
            }
            <span class="missing-if-branch" title="if path not taken" >I</span>if (tempSafetyCoaching != 0) {
<span class="cstat-no" title="statement not covered" >                emit CoachingCutPoolUpdated(coachingCutPool);</span>
            }
        }
        /// @dev Add the "new payment" to CutLockedPools.
        contentCutLockedPool[_transactionLBIndex] += totalCutContentShare;
        coachingCutLockedPool[_transactionLBIndex] += totalCutCoachingShare;
&nbsp;
        if ((totalCutContentShare != 0) || (tempSafetyContent != 0)) {
            emit ContentCutLockedPoolUpdated();
        }
        if ((totalCutCoachingShare != 0) || <span class="branch-1 cbranch-no" title="branch not covered" >(tempSafetyCoaching != 0)</span>) {
            emit CoachingCutLockedPoolUpdated();
        }
    }
&nbsp;
    /// @notice Updates instructor balances and handle locked payments during the refund window.
    /// @param _instrShare amount of UDAO to be paid to the instructor, it is revenue of instructor from content sales.
    /// @param _inst address of the instructor.
    /// @param _transactionTime indicates the day of the transaction (number of days passed since 1Jan1970-0:0:0)
    /// @param _transactionLBIndex determines the payment will be added to which position in the insLockedBalance array.
    function _updateInstructorBalances(
        uint256 _instrShare,
        address _inst,
        uint256 _transactionTime,
        uint256 _transactionLBIndex
    ) internal {
        /// @dev Safety variable to prevent reentrancy attacks.
        uint256 tempSafetyBalance;
        /// @dev "if/else": is there any change on the refund window? Or, is it the instructor's first sale?
        if (prevInstRefundWindow[_inst] != refundWindow) {
            /// @dev 'for' loop will iterate during the old refund window period if it is bot equal to '0' ...
            /// @dev ... The loop collects instructor locked balances and removes them from the insLockedBalance array.
            for (uint256 i = 0; i &lt; prevInstRefundWindow[_inst]; i++) {
                tempSafetyBalance += instLockedBalance[_inst][i];
                instLockedBalance[_inst][i] = 0;
            }
            /// @dev initiate or update the instructor's previous refund window with platform's refund window.
            prevInstRefundWindow[_inst] = refundWindow;
            /// @dev initiate or update the instructor lock time
            instLockTime[_inst] = _transactionTime;
            /// @dev add the "collected old balances" to instructor locked balance according to the new refund window.
            instLockedBalance[_inst][_transactionLBIndex] += tempSafetyBalance;
        }
        /// @dev Calculate the number of days that have passed since the last update of instructor balance.
        uint256 dayPassedInst = _transactionTime - instLockTime[_inst];
        /// @dev Check if there are any payments in the instLockedBalance array that need to be paid to the instructor.
        if (dayPassedInst &gt;= refundWindow) {
            /// @dev The instLockedBalance array contains payments that need be paid to the instructor.
            /// @dev Defines how many elements of instLockedBalance array have completed the refund window period.
            uint256 dayPassedInstMod;
            /// @dev Check if all elements in the instLockedBalance arrays have completed the refund window period.
            <span class="missing-if-branch" title="if path not taken" >I</span>if (dayPassedInst &gt;= (refundWindow * 2)) {
                /// @dev All elements, instLockedBalance array holds payments within the range [0, refundWindow-1].
                dayPassedInstMod = refundWindow - 1;
            } else {
                /// @dev Not all, but some, elements of the instLockedBalance have completed the refund window period.
                dayPassedInstMod = dayPassedInst % refundWindow;
            }
            /// @dev Iterate the loop through elements that completed the refund window period.
            /// @dev Adding completed payments to tempSafetyBalance, and remove them from the instLockedBalance array.
            for (uint256 i = 0; i &lt;= dayPassedInstMod; i++) {
                /// @dev The indexOfPayout determines which element of the instLockedBalance array will be paid to the instructor.
                /// @dev It start from today(i=0) and goes to past during the loop iterations.
                /// @dev Circular array indexing prevents negative indexes using addition and modulo operations with refundWindow.
                uint256 indexOfPayout = ((_transactionLBIndex + refundWindow) -
                    i) % refundWindow;
                tempSafetyBalance += instLockedBalance[_inst][indexOfPayout];
                instLockedBalance[_inst][indexOfPayout] = 0;
            }
            /// @dev Add the sum of refund window's completed payments to the instructor balance.
            instBalance[_inst] += tempSafetyBalance;
            /// @dev Update instLockTime to the oldest day where payments have not been paid to the instructor yet.
            /// @dev It is "(today-refundWindow)+1" so as of today, all refund window completed payments have been transfered.
            instLockTime[_inst] = (_transactionTime - refundWindow) + 1;
&nbsp;
            <span class="missing-if-branch" title="else path not taken" >E</span>if (tempSafetyBalance != 0) {
                emit InstructorBalanceUpdated(_inst, instBalance[_inst]);
            }
        }
        /// @dev Add the "new payment" to instLockedBalance.
        instLockedBalance[_inst][_transactionLBIndex] += _instrShare;
&nbsp;
        <span class="missing-if-branch" title="else path not taken" >E</span>if ((_instrShare != 0) || (tempSafetyBalance != 0)) {
            emit InstructorLockedBalanceUpdated(_inst);
        }
    }
&nbsp;
    /// @notice Distributes platform revenue to platform roles and transfers governance role shares to the governance treasury.
    function _transferPlatformCutstoGovernance() internal {
        /// @dev if there is any revenue in contentCutPool which is completed the refund window, distribute role shares to roles and transfer governance role shares to governance treasury
        if (contentCutPool &gt; contentCutRefundedBalance) {
            /// @dev reduce the refunded and blocked balance from the content cut pool
            uint positiveContentCutPool = contentCutPool -
                contentCutRefundedBalance;
            contentCutPool = 0;
            contentCutRefundedBalance = 0;
            emit ContentCutPoolUpdated(contentCutPool);
&nbsp;
            /// @dev Distribute the content cut shares to platform roles
            _distributeContentCutShares(positiveContentCutPool);
            emit RoleBalancesUpdated(
                foundationBalance,
                jurorBalance,
                validatorsBalance,
                governanceBalance
            );
        }
&nbsp;
        /// @dev if there is any revenue in coachingCutPool which is completed the refund window, distribute role shares to roles and transfer governance role shares to governance treasury
        <span class="missing-if-branch" title="if path not taken" >I</span>if (coachingCutPool &gt; coachingCutRefundedBalance) {
            /// @dev reduce the refunded and blocked balance from the coaching cut pool
<span class="cstat-no" title="statement not covered" >            uint positiveCoachingCutPool = coachingCutPool -</span>
                coachingCutRefundedBalance;
            coachingCutPool = 0;
            coachingCutRefundedBalance = 0;
<span class="cstat-no" title="statement not covered" >            emit CoachingCutPoolUpdated(coachingCutPool);</span>
&nbsp;
            /// @dev Distribute the coaching cut shares to platform roles
<span class="cstat-no" title="statement not covered" >            _distributeCoachingCutShares(positiveCoachingCutPool)</span>;
<span class="cstat-no" title="statement not covered" >            emit RoleBalancesUpdated(</span>
                foundationBalance,
                jurorBalance,
                validatorsBalance,
                governanceBalance
            );
        }
&nbsp;
        /// @dev Transfer the governance role shares to the governance treasury if governance treasury is online
        <span class="missing-if-branch" title="if path not taken" >I</span>if (isGovernanceTreasuryOnline == true) {
<span class="cstat-no" title="statement not covered" >            bool aBalanceUpdated;</span>
            /// @dev if jurorBalance is positive, transfer the juror balance to the governance treasury
<span class="cstat-no" title="statement not covered" >            if (jurorBalance &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                uint transferredJurorBalance = jurorBalance;</span>
                jurorBalance = 0;
                /// @dev transfer the juror role balance to the governance treasury contract
<span class="cstat-no" title="statement not covered" >                udao.transfer(</span>
                    address(governanceTreasury),
                    transferredJurorBalance
                );
                /// @dev update the juror role balance in governance treasury contract
<span class="cstat-no" title="statement not covered" >                governanceTreasury.jurorBalanceUpdate(transferredJurorBalance)</span>;
                aBalanceUpdated = true;
            }
            /// @dev if validatorsBalance is positive, transfer the validators balance to the governance treasury
<span class="cstat-no" title="statement not covered" >            if (validatorsBalance &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                uint transferredValidatorBalance = validatorsBalance;</span>
                validatorsBalance = 0;
                /// @dev transfer the validators role balance to the governance treasury contract
<span class="cstat-no" title="statement not covered" >                udao.transfer(</span>
                    address(governanceTreasury),
                    transferredValidatorBalance
                );
                /// @dev update the validators role balance in governance treasury contract
<span class="cstat-no" title="statement not covered" >                governanceTreasury.validatorBalanceUpdate(</span>
                    transferredValidatorBalance
                );
                aBalanceUpdated = true;
            }
            /// @dev if governanceBalance is positive, transfer the foundation balance to the governance treasury
<span class="cstat-no" title="statement not covered" >            if (governanceBalance &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                uint transferredGovernanceBalance = governanceBalance;</span>
                governanceBalance = 0;
                /// @dev transfer the governance role balance to the governance treasury contract
<span class="cstat-no" title="statement not covered" >                udao.transfer(</span>
                    address(governanceTreasury),
                    transferredGovernanceBalance
                );
                /// @dev update the governance role balance in governance treasury contract
<span class="cstat-no" title="statement not covered" >                governanceTreasury.governanceBalanceUpdate(</span>
                    transferredGovernanceBalance
                );
                aBalanceUpdated = true;
            }
&nbsp;
            /// @dev Emit the event if any balance is updated
<span class="cstat-no" title="statement not covered" >            if (aBalanceUpdated) {</span>
<span class="cstat-no" title="statement not covered" >                emit RoleBalancesUpdated(</span>
                    foundationBalance,
                    jurorBalance,
                    validatorsBalance,
                    governanceBalance
                );
            }
        }
    }
&nbsp;
    /// @notice Allows learner to get refund of coaching 1 day prior to coaching date, or coach to refund in refund window
    /// @param _refCoachSaleID The ID of the coaching sale
    function refundCoachingByInstructorOrLearner(
        uint256 _refCoachSaleID
    ) external <span class="missing-if-branch" title="else path not taken" >E</span>whenNotPaused {
        CoachingSale storage refundItem = coachSales[_refCoachSaleID];
        /// @dev a sale only be refunded in the refund window period after the purchase date
        require(
            refundItem.refundablePeriod &gt;= (block.timestamp / 86400),
            "Refund period over you cant refund"
        );
        if (msg.sender == refundItem.payee) {
            require(
                refundItem.coachingDate &gt;= block.timestamp + 86400,
                "You can't refund less than 1 day prior to coaching date"
            );
        } else <span class="missing-if-branch" title="if path not taken" >I</span>if (msg.sender != refundItem.coach) {
<span class="cstat-no" title="statement not covered" >            revert("You are not the payee or coach")</span>;
        }
        /// @dev a sale can only be refunded once
        <span class="missing-if-branch" title="else path not taken" >E</span>require(refundItem.isRefunded == false, "Already refunded!");
        coachSales[_refCoachSaleID].isRefunded = true;
&nbsp;
        /// @dev block the revenue of the refunded sale from the instructor balance and platform cut pools
        instRefundedBalance[refundItem.coach] += refundItem.instrShare;
        coachingCutRefundedBalance += refundItem.totalCut;
&nbsp;
        /// @dev Transfer UDAO refund payment from contract to buyer
        udao.transfer(
            refundItem.payee,
            (refundItem.instrShare + refundItem.totalCut)
        );
        emit SaleRefunded(_refCoachSaleID, 0);
    }
&nbsp;
    /// @notice Allows to anyone to refund of coaching with a voucher created by platform
    /// @param voucher A RefundVoucher
    function newRefundCoaching(
        IVoucherVerifier.RefundVoucher calldata voucher
    ) external <span class="missing-if-branch" title="else path not taken" >E</span>whenNotPaused {
        /// @dev check and verify the voucher is created by platform
        voucherVerifier.verifyRefundVoucher(voucher);
        CoachingSale storage refundItem = coachSales[voucher.saleID];
        /// @dev a sale only be refunded in the refund window period after the purchase date
        require(
            refundItem.refundablePeriod &gt;= (block.timestamp / 86400),
            "Refund period over you cant refund"
        );
        /// @dev a sale can only be refunded once
        <span class="missing-if-branch" title="else path not taken" >E</span>require(refundItem.isRefunded == false, "Already refunded!");
        coachSales[voucher.saleID].isRefunded = true;
&nbsp;
        /// @dev block the revenue of the refunded sale from the instructor balance and platform cut pools
        instRefundedBalance[refundItem.coach] += refundItem.instrShare;
        coachingCutRefundedBalance += refundItem.totalCut;
&nbsp;
        /// @dev Transfer UDAO refund payment from contract to buyer
        udao.transfer(
            refundItem.payee,
            (refundItem.instrShare + refundItem.totalCut)
        );
        emit SaleRefunded(voucher.saleID, 0);
    }
&nbsp;
    /// @notice Allows anyone to refund of a content with a voucher created by platform
    /// @param voucher A RefundVoucher
<span class="fstat-no" title="function not covered" >    function newRefundContent(</span>
        IVoucherVerifier.RefundVoucher calldata voucher
    ) external whenNotPaused {
        /// @dev check and verify the voucher is created by platform
<span class="cstat-no" title="statement not covered" >        voucherVerifier.verifyRefundVoucher(voucher)</span>;
<span class="cstat-no" title="statement not covered" >        ContentSale storage refundItem = contentSales[voucher.saleID];</span>
        /// @dev a sale only be refunded in the refund window period after the purchase date
<span class="cstat-no" title="statement not covered" >        require(</span>
            refundItem.refundablePeriod &gt;= (block.timestamp / 86400),
            "refund period over you cant refund"
        );
        /// @dev a sale can only be refunded once
<span class="cstat-no" title="statement not covered" >        require(refundItem.isRefunded == false, "Already refunded!")</span>;
        contentSales[voucher.saleID].isRefunded = true;
&nbsp;
        /// @dev Loop through the purchased parts of the content in the sale
<span class="cstat-no" title="statement not covered" >        for (uint256 j; j &lt; refundItem.purchasedParts.length; j++) {</span>
<span class="cstat-no" title="statement not covered" >            uint256 part = refundItem.purchasedParts[j];</span>
            /// @dev Set the content part as not bought
            isPartBought[refundItem.contentReceiver][refundItem.tokenId][
                part
            ] = false;
        }
        /// @dev If the sale was a full content purchase change the "full purchase status" of the content for instructor
<span class="cstat-no" title="statement not covered" >        if (refundItem.fullPurchase == true) {</span>
            isFullyPurchased[refundItem.contentReceiver][
                refundItem.tokenId
            ] = false;
        }
&nbsp;
        /// @dev Replace the "owned content parts" of the contentReceiver by the voucher.finalParts if any parts are left after refund
<span class="cstat-no" title="statement not covered" >        if (voucher.finalParts.length &gt; 0) {</span>
            ownedParts[refundItem.contentReceiver][refundItem.tokenId] = voucher
                .finalParts;
        } else {
            /// @dev If voucher.finalParts does not exist, then replace "owned content parts" of the contentReceiver with an empty array
            ownedParts[refundItem.contentReceiver][
                refundItem.tokenId
            ] = new uint256[](0);
        }
&nbsp;
        /// @dev If the contentReceiver does not own any part of the content anymore, set the "owned content" of contentReceiver for this content as not bought
<span class="cstat-no" title="statement not covered" >        if (</span>
            ownedParts[refundItem.contentReceiver][refundItem.tokenId].length ==
            0
        ) {
            isContentBought[refundItem.contentReceiver][
                refundItem.tokenId
            ] = false;
            /// @dev If the contentReceiver does not own any content anymore then replace "owned content" of contentReceiver with an empty array
<span class="cstat-no" title="statement not covered" >            if (voucher.finalContents.length &gt; 0) {</span>
                ownedContents[refundItem.contentReceiver] = voucher
                    .finalContents;
            } else {
                ownedContents[refundItem.contentReceiver] = new uint[](0);
            }
        }
&nbsp;
        /// @dev block the revenue of the refunded sale from the instructor balance and platform cut pools
        instRefundedBalance[refundItem.instructor] += refundItem.instrShare;
        contentCutRefundedBalance += refundItem.totalCut;
&nbsp;
        /// @dev Transfer UDAO refund payment from contract to buyer
<span class="cstat-no" title="statement not covered" >        udao.transfer(</span>
            refundItem.payee,
            (refundItem.instrShare + refundItem.totalCut)
        );
<span class="cstat-no" title="statement not covered" >        emit SaleRefunded(voucher.saleID, 1);</span>
    }
&nbsp;
    /// @notice Returns the chain id of the current blockchain.
    /// @dev This is used to workaround an issue with ganache returning different values from the on-chain chainid() function and
    /// @dev the eth_chainId RPC method. See https://github.com/protocol/nft-website/issues/121 for context.
<span class="fstat-no" title="function not covered" >    function getChainID() external view returns (uint256) {</span>
<span class="cstat-no" title="statement not covered" >        uint256 id;</span>
        assembly {
            id := chainid()
        }
<span class="cstat-no" title="statement not covered" >        return id;</span>
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Nov 15 2023 10:12:08 GMT+0300 (GMT+03:00)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
